---
name: Build container image

on:
  pull_request:
    branches:
      - main
  schedule:
    - cron: "05 10 * * *"
  push:
    branches:
      - main
    paths-ignore:
      - "**/README.md"
  workflow_dispatch:

jobs:
  build_push:
    name: Build and push image
    runs-on: ubuntu-24.04

    # ðŸ‘‡ To uruchomi caÅ‚y job w Twoim kontenerze
    container:
      image: ghcr.io/immutablearch/buildc:latest
      # JeÅ›li kontener wymaga autoryzacji (np. prywatny), dodaj credentials:
      credentials:
        username: ${{ github.actor }}
        password: ${{ secrets.GITHUB_TOKEN }}
      # Opcjonalnie moÅ¼esz dodaÄ‡ zmienne Å›rodowiskowe:

    permissions:
      contents: read
      packages: write
      id-token: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Build Image
        run: |
            ./build.sh
